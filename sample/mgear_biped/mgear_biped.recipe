global:
    # log_level: "WARN"  # "INFO", "WARN", "ERROR", "CRITICAL"
    # log_level: "INFO"  # "INFO", "WARN", "ERROR", "CRITICAL"
    log_level: "DEBUG"  # "INFO", "WARN", "ERROR", "CRITICAL"
    color_table:
        "white": "255, 255, 255"

        "ik_center":  "233, 127, 237"
        "fk_center":  "172,  86, 221"

        "ik_left":    "236, 157,  91"
        "fk_left":    "221,  65,  66"

        "ik_right":   " 91, 175, 235"
        "fk_right":   " 65,  80, 221"

        "mos_green":  "113, 168,  85"
        "light_blue": "115, 146, 210"
        "red":        "188,  72,  73"

        "hilight":    "195, 175, 185, 240"


pipeline:
    prepare:
        - module: utility.set_size_from_image
          config:
            image: 
                - "background.png"

        - module: utility.copy_file
          config:
            src: "background.png"
            dst: "output/background.png"


    recognize:
        - module: recognizer.images_to_shape_from_filename
          config:
            image_pattern: "src_images/{{ controller_name }}.0000.png"
            store: "regions"

        - module: utility.dump_region
          config:
              region_name: "regions"


    filter:
        - module: filter.rotatedrect_to_rect

        - module: filter.minimum_width_height

        #- module: filter.round_up_smaller_region
        #  config:
        #    baseline: 175

        - module: filter.round_down_bigger_region
          config:
            baseline: 1750

        - module: filter.set_location_attribute_by_naming_convention
          config:
              target:
                - "regions"
              convention:
                left: "_(L\\d+)_"
                right: "_(R\\d+)_"
                center: "_(C\\d+)_"
                default: "center"

        - module: filter.realignment_position
          config:
            target:
              -"regions"

    publisher:
        - module: writer.mgear
          config:
            output: "output/widget.ui"
            background: "background.png"
            version: "1"


    finalizer:
        - module: utility.html_character
          config:
              file: "output/widget.ui"
              mode: "unescape"

# vim:set ft=yaml:
